{
    "$schema": "./appsettings-schema.json",
    "Serilog": {
        "Using": [
            "Serilog.Expressions",
            "Serilog.Sinks.Console",
            "Serilog.Sinks.RollingFile"
        ],
        "MinimumLevel": "Debug",
        "WriteTo": [
            {
                "Name": "Logger",
                "Args": {
                    "configureLogger": {
                        "WriteTo": [
                            {
                                "Name": "Console",
                                "Args": {
                                    "formatter": "Serilog.Formatting.Compact.CompactJsonFormatter, Serilog.Formatting.Compact",
                                    "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] [{Source}] {Message:lj}{NewLine}{Exception}"
                                }
                            }
                        ],
                        "Filter": [
                            {
                                "Name": "ByIncludingOnly",
                                "Args": {
                                    "expression": "Source is not null"
                                }
                            }
                        ]
                    }
                }
            },
            {
                "Name": "Logger",
                "Args": {
                    "configureLogger": {
                        "WriteTo": [
                            {
                                "Name": "Console",
                                "Args": {
                                    "formatter": "Serilog.Formatting.Compact.CompactJsonFormatter, Serilog.Formatting.Compact",
                                    "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}"
                                }
                            }
                        ],
                        "Filter": [
                            {
                                "Name": "ByExcluding",
                                "Args": {
                                    "expression": "Source is not null"
                                }
                            }
                        ]
                    }
                }
            }
        ],
        "Filter": [
            {
                "Name": "ByExcluding",
                "Args": {
                    "expression": "SourceContext = 'Libplanet.Stun.TurnClient'"
                }
            },
            {
                "Name": "ByExcluding",
                "Args": {
                    "expression": "SourceContext = 'Libplanet.Net.Transports.NetMQTransport'"
                }
            },
            {
                "Name": "ByExcluding",
                "Args": {
                    "expression": "Source = 'TxCompletion'"
                }
            },
            {
                "Name": "ByExcluding",
                "Args": {
                    "expression": "Source = 'TxFetchJob'"
                }
            },
            {
                "Name": "ByExcluding",
                "Args": {
                    "expression": "Source = 'VolatileStagePolicy'"
                }
            },
            {
                "Name": "ByExcluding",
                "Args": {
                    "expression": "SourceContext = 'Libplanet.Net.Protocols.RoutingTable'"
                }
            },
            {
                "Name": "ByExcluding",
                "Args": {
                    "expression": "Source = 'LoggedRenderer'"
                }
            }
        ]
    },
    "Headless": {
        "AppProtocolVersionString": "200110/AB2da648b9154F2cCcAFBD85e0Bc3d51f97330Fc/MEUCIQCnkMilH6x6+Pf3Ud0wF54ZdH7P.30PZfZzOc75hq6TggIgfbaK6p3XNAGrFi1+3uOxXd.heWP.SfgX9NvM9mvgh44=/ZHU5OnRpbWVzdGFtcHUxMDoyMDIzLTExLTIxZQ==",
        "GenesisBlockPath": "https://release.nine-chronicles.com/genesis-block-9c-main",
        "StoreType": "rocksdb",
        "StorePath": "",
        "Port": 31234,
        "IceServerStrings": [],
        "PeerStrings": ["027bd36895d68681290e570692ad3736750ceaab37be402442ffb203967f98f7b6,9c-main-tcp-seed-1.planetarium.dev,31234", "02f164e3139e53eef2c17e52d99d343b8cbdb09eeed88af46c352b1c8be6329d71,9c-main-tcp-seed-2.planetarium.dev,31234", "0247e289aa332260b99dfd50e578f779df9e6702d67e50848bb68f3e0737d9b9a5,9c-main-tcp-seed-3.planetarium.dev,31234"],
        "TrustedAppProtocolVersionSignerStrings": [
            "030ffa9bd579ee1503ce008394f687c182279da913bfaec12baca34e79698a7cd1"
        ],
        "NoMiner": true,
        "RpcServer": true,
        "RpcListenHost": "127.0.0.1",
        "RpcListenPort": 31238,
        "RpcRemoteServer": true,
        "GraphQLServer": true,
        "GraphQLHost": "127.0.0.1",
        "GraphQLPort": 31280,
        "NoCors": true,
        "Confirmations": 0,
        "AccessControlService": {
            "AccessControlServiceType": "redis",
            "AccessControlServiceConnectionString": "acc-redis-service.9c-network.svc.cluster.local:6379"
        },
        "ChainTipStaleBehaviorType": "reboot",
        "ActionEvaluator": {
            "type": "ForkableActionEvaluator",
            "pairs": [
                {
                    "range": {
                        "start": 0,
                        "end": 8518500
                    },
                    "actionEvaluator": {
                        "type": "PluggedActionEvaluator",
                        "pluginPath": "https://9c-dx.s3.ap-northeast-2.amazonaws.com/Lib9c.Plugin/464a99ecff9ad0321581b0ffc0f6021643c6db52/linux-arm64.zip"
                    }
                },
                {
                    "range": {
                        "start": 8518501,
                        "end": 9223372036854775807
                    },
                    "actionEvaluator": {
                        "type": "PluggedActionEvaluator",
                        "pluginPath": "https://9c-dx.s3.ap-northeast-2.amazonaws.com/Lib9c.Plugin/9ffb0503daf15bc008b108db9a0573d1250b0625/linux-arm64.zip"
                    }
                }
            ]
        }
    },
    "Logging": {
        "LogLevel": {
            "Microsoft": "None"
        }
    },
    "IpRateLimiting": {
        "EnableEndpointRateLimiting": false,
        "StackBlockedRequests": true,
        "RealIpHeader": "X-Real-IP",
        "HttpStatusCode": 429,
        "IpWhitelist": [
            "127.0.0.1"
        ],
        "GeneralRules": [
            {
                "Endpoint": "*:/IBlockChainService/PutTransaction",
                "Period": "60s",
                "Limit": 12
            },
            {
                "Endpoint": "*:/graphql/stagetransaction",
                "Period": "60s",
                "Limit": 12
            }
        ],
        "QuotaExceededResponse": {
            "Content": "{ \"message\": \"Whoa! Calm down, cowboy!\", \"details\": \"Quota exceeded. Maximum allowed: {0} per {1}. Please try again in {2} second(s).\" }",
            "ContentType": "application/json",
            "StatusCode": 429
        },
        "IpBanThresholdCount": 10,
        "IpBanMinute": 60,
        "IpBanResponse": {
            "Content": "{ \"message\": \"Your Ip has been banned.\" }",
            "ContentType": "application/json",
            "StatusCode": 403
        }
    },
    "MultiAccountManaging": {
        "EnableManaging": false,
        "ManagementTimeMinutes": 10,
        "TxIntervalMinutes": 10,
        "ThresholdCount": 29
    }
}
